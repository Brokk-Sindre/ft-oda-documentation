<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>TypeScript Definitions - Test</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Test</a>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#typescript-definitions" class="nav-link">TypeScript Definitions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#overview" class="nav-link">Overview</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#installation" class="nav-link">Installation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#quick-start" class="nav-link">Quick Start</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#type-libraries" class="nav-link">Type Libraries</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#key-features" class="nav-link">Key Features</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#usage-examples" class="nav-link">Usage Examples</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#advanced-type-features" class="nav-link">Advanced Type Features</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#benefits" class="nav-link">Benefits</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#next-steps" class="nav-link">Next Steps</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="typescript-definitions">TypeScript Definitions</h1>
<p>Complete TypeScript type definitions for all 50 entities in the Danish Parliament API, providing type safety and excellent IDE support.</p>
<h2 id="overview">Overview</h2>
<p>The Danish Parliament API contains <strong>50 entities</strong> with complex relationships, role systems, and enumeration types. These TypeScript definitions provide:</p>
<ul>
<li><strong>Complete type coverage</strong> for all entities</li>
<li><strong>Role enumerations</strong> (23 SagAktørRolle types, 25 DokumentAktørRolle types)</li>
<li><strong>Status classifications</strong> (68 case statuses, 13 actor types, 28 document types)</li>
<li><strong>Relationship mappings</strong> between entities</li>
<li><strong>Generic client interface</strong> for type-safe API calls</li>
</ul>
<h2 id="installation">Installation</h2>
<pre><code class="language-bash"># Save the types to your project
# Copy the types from types.md into your project as danish-parliament-api.d.ts
npm install --save-dev typescript

# Include in your tsconfig.json
{
  &quot;compilerOptions&quot;: {
    &quot;types&quot;: [&quot;./types/danish-parliament-api&quot;]
  }
}
</code></pre>
<h2 id="quick-start">Quick Start</h2>
<pre><code class="language-typescript">import { DanishParliamentAPI, Sag, Aktør, Afstemning, APIResponse } from './danish-parliament-api';

// Initialize with type safety
const api = new DanishParliamentAPI();

// Type-safe API calls
const cases: APIResponse&lt;Sag&gt; = await api.getCases({
  filter: &quot;substringof('klima', titel)&quot;,
  expand: &quot;Sagskategori&quot;,
  top: 50
});

// Access with full IntelliSense
cases.value.forEach(case =&gt; {
  console.log(`Case ${case.id}: ${case.titel}`);
  console.log(`Category: ${case.Sagskategori?.kategori}`);
  console.log(`Updated: ${new Date(case.opdateringsdato).toLocaleDateString()}`);
});

// Type-safe actor queries
const actors: APIResponse&lt;Aktør&gt; = await api.getActors({
  filter: &quot;aktørtypeid eq 5&quot;, // Type 5 = Politicians
  expand: &quot;Aktørtype&quot;
});
</code></pre>
<h2 id="type-libraries">Type Libraries</h2>
<ol>
<li><strong><a href="types/">Complete Type Definitions</a></strong> - All 50 entity interfaces and enums</li>
<li><strong><a href="client/">Type-Safe Client</a></strong> - Fully typed API client implementation</li>
</ol>
<h2 id="key-features">Key Features</h2>
<h3 id="1-entity-type-safety">1. Entity Type Safety</h3>
<pre><code class="language-typescript">// Strongly typed entity properties
interface Sag {
  id: number;
  titel: string;
  offentlighedskode: 'O' | 'F' | string; // Public/Confidential
  opdateringsdato: string; // ISO datetime
  typeid: number;
  statusid: number;

  // Relationships (optional when expanded)
  Sagskategori?: Sagskategori;
  SagAktør?: SagAktør[];
  Sagstrin?: Sagstrin[];
}
</code></pre>
<h3 id="2-role-system-types">2. Role System Types</h3>
<pre><code class="language-typescript">// Case-Actor relationship roles (23 types)
enum SagAktørRolle {
  Ordfører = 1,
  MedOrdførerGrp = 2,
  OrdførerGrp = 3,
  Spørger = 5,
  MinisterAdressat = 6,
  // ... all 23 roles defined
}

// Document-Actor relationship roles (25 types)  
enum DokumentAktørRolle {
  Taler = 1,
  Spørger = 5,
  MinisterAdressat = 6,
  Ordfører = 13,
  // ... all 25 roles defined
}
</code></pre>
<h3 id="3-status-classifications">3. Status Classifications</h3>
<pre><code class="language-typescript">// Case statuses (68 different states)
enum Sagsstatus {
  Modtaget = 1,
  UnderBehandling = 2,
  BehandletFerdig = 3,
  Vedtaget = 4,
  Forkastet = 5,
  // ... all 68 statuses
}

// Actor types (13 categories)
enum Aktørtype {
  Person = 5,
  Parti = 4,
  Regering = 18,
  Udvalg = 20,
  // ... all types
}
</code></pre>
<h3 id="4-generic-api-responses">4. Generic API Responses</h3>
<pre><code class="language-typescript">// Standard API response wrapper
interface APIResponse&lt;T&gt; {
  'odata.metadata': string;
  value: T[];
  'odata.count'?: string; // Present when $inlinecount used
}

// Error response types
interface APIError {
  name: 'APIError' | 'NetworkError' | 'ValidationError';
  message: string;
  status?: number;
  code?: string;
}
</code></pre>
<h2 id="usage-examples">Usage Examples</h2>
<h3 id="parliamentary-case-analysis">Parliamentary Case Analysis</h3>
<pre><code class="language-typescript">interface CaseAnalysis {
  totalCases: number;
  byStatus: Record&lt;number, number&gt;;
  byType: Record&lt;number, number&gt;;
  recentActivity: number;
}

async function analyzeCases(api: DanishParliamentAPI): Promise&lt;CaseAnalysis&gt; {
  // Get total count with type safety
  const countResponse: APIResponse&lt;Sag&gt; = await api.getCases({
    top: 1,
    inlinecount: 'allpages'
  });

  const totalCases = parseInt(countResponse['odata.count'] || '0');

  // Get recent cases for analysis
  const recentCases: APIResponse&lt;Sag&gt; = await api.getCases({
    orderby: 'opdateringsdato desc',
    top: 1000
  });

  // Type-safe analysis
  const analysis: CaseAnalysis = {
    totalCases,
    byStatus: {},
    byType: {},
    recentActivity: 0
  };

  recentCases.value.forEach(case =&gt; {
    // Count by status
    analysis.byStatus[case.statusid] = (analysis.byStatus[case.statusid] || 0) + 1;

    // Count by type
    analysis.byType[case.typeid] = (analysis.byType[case.typeid] || 0) + 1;

    // Check if updated recently (last 7 days)
    const weekAgo = new Date();
    weekAgo.setDate(weekAgo.getDate() - 7);

    if (new Date(case.opdateringsdato) &gt; weekAgo) {
      analysis.recentActivity++;
    }
  });

  return analysis;
}
</code></pre>
<h3 id="voting-record-analysis">Voting Record Analysis</h3>
<pre><code class="language-typescript">interface VotingPattern {
  politician: string;
  totalVotes: number;
  voteBreakdown: {
    for: number;        // typeid = 1
    against: number;    // typeid = 2
    abstain: number;    // typeid = 3
    absent: number;     // typeid = 4
  };
  partyAlignment: number; // Percentage voting with party
}

async function analyzeVotingPattern(
  api: DanishParliamentAPI, 
  politicianName: string
): Promise&lt;VotingPattern | null&gt; {

  // Get all votes with type safety
  const votesResponse: APIResponse&lt;Stemme&gt; = await api.request('Stemme', {
    expand: 'Afstemning,Aktør',
    filter: `Aktør/navn eq '${politicianName}'`,
    top: 1000 // Batch process if needed
  });

  if (votesResponse.value.length === 0) {
    return null;
  }

  const votes = votesResponse.value;
  const pattern: VotingPattern = {
    politician: politicianName,
    totalVotes: votes.length,
    voteBreakdown: { for: 0, against: 0, abstain: 0, absent: 0 },
    partyAlignment: 0
  };

  // Type-safe vote counting
  votes.forEach((vote: Stemme) =&gt; {
    switch (vote.typeid) {
      case 1: pattern.voteBreakdown.for++; break;
      case 2: pattern.voteBreakdown.against++; break;
      case 3: pattern.voteBreakdown.abstain++; break;
      case 4: pattern.voteBreakdown.absent++; break;
    }
  });

  return pattern;
}
</code></pre>
<h3 id="document-processing-with-files">Document Processing with Files</h3>
<pre><code class="language-typescript">interface DocumentWithFiles {
  id: number;
  title: string;
  files: {
    url: string;
    format: string;
    size?: string;
  }[];
  actors: {
    name: string;
    role: string;
  }[];
}

async function getDocumentsWithFiles(
  api: DanishParliamentAPI,
  searchTerm: string
): Promise&lt;DocumentWithFiles[]&gt; {

  const docsResponse: APIResponse&lt;Dokument&gt; = await api.request('Dokument', {
    filter: `substringof('${searchTerm}', titel)`,
    expand: 'Fil,DokumentAktør/Aktør,DokumentAktør/DokumentAktørRolle',
    top: 50
  });

  return docsResponse.value.map((doc: Dokument): DocumentWithFiles =&gt; ({
    id: doc.id,
    title: doc.titel,
    files: (doc.Fil || []).map((file: Fil) =&gt; ({
      url: file.filurl,
      format: file.format,
      size: file.størrelse
    })),
    actors: (doc.DokumentAktør || []).map((da: DokumentAktør) =&gt; ({
      name: da.Aktør?.navn || 'Unknown',
      role: da.DokumentAktørRolle?.rolle || 'Unknown Role'
    }))
  }));
}
</code></pre>
<h2 id="advanced-type-features">Advanced Type Features</h2>
<h3 id="1-conditional-types-for-expansions">1. Conditional Types for Expansions</h3>
<pre><code class="language-typescript">// Type that changes based on expansion parameter
type SagWithExpansion&lt;T extends string&gt; = 
  T extends 'Sagskategori' ? Sag &amp; { Sagskategori: Sagskategori } :
  T extends 'SagAktør' ? Sag &amp; { SagAktør: SagAktør[] } :
  T extends 'SagAktør/Aktør' ? Sag &amp; { SagAktør: (SagAktør &amp; { Aktør: Aktør })[] } :
  Sag;

// Usage
const casesWithCategory: SagWithExpansion&lt;'Sagskategori'&gt; = 
  await api.getCases({ expand: 'Sagskategori' });
</code></pre>
<h3 id="2-query-builder-types">2. Query Builder Types</h3>
<pre><code class="language-typescript">interface QueryOptions&lt;T&gt; {
  filter?: string;
  expand?: keyof T | string;
  select?: (keyof T)[];
  orderby?: keyof T | string;
  top?: number;
  skip?: number;
  inlinecount?: 'allpages' | 'none';
}

// Type-safe query building
const query: QueryOptions&lt;Sag&gt; = {
  filter: &quot;year(opdateringsdato) eq 2025&quot;,
  expand: &quot;Sagskategori&quot;, // Autocomplete works
  select: [&quot;id&quot;, &quot;titel&quot;, &quot;statusid&quot;], // Only valid fields
  orderby: &quot;opdateringsdato desc&quot;,
  top: 100
};
</code></pre>
<h3 id="3-utility-types">3. Utility Types</h3>
<pre><code class="language-typescript">// Extract specific fields
type SagSummary = Pick&lt;Sag, 'id' | 'titel' | 'opdateringsdato'&gt;;

// Make relationships required
type SagWithCategory = Sag &amp; Required&lt;Pick&lt;Sag, 'Sagskategori'&gt;&gt;;

// Union of all entity types
type AnyEntity = Sag | Aktør | Afstemning | Stemme | Dokument | Møde;

// Extract ID from any entity
type EntityId&lt;T extends { id: number }&gt; = T['id'];
</code></pre>
<h2 id="benefits">Benefits</h2>
<h3 id="1-development-experience">1. Development Experience</h3>
<ul>
<li><strong>IntelliSense</strong>: Full autocomplete for all properties and methods</li>
<li><strong>Error Prevention</strong>: Catch typos and invalid field names at compile time</li>
<li><strong>Refactoring Safety</strong>: Rename fields across entire codebase safely</li>
<li><strong>Documentation</strong>: Hover tooltips show field descriptions</li>
</ul>
<h3 id="2-runtime-safety">2. Runtime Safety</h3>
<ul>
<li><strong>Type Guards</strong>: Validate API responses match expected types</li>
<li><strong>Error Handling</strong>: Strongly typed error responses</li>
<li><strong>Null Safety</strong>: Optional chaining for relationship properties</li>
<li><strong>Date Handling</strong>: Consistent datetime string types</li>
</ul>
<h3 id="3-team-collaboration">3. Team Collaboration</h3>
<ul>
<li><strong>Shared Types</strong>: Consistent interfaces across team members</li>
<li><strong>API Contract</strong>: Clear documentation of expected data structures</li>
<li><strong>Version Control</strong>: Type changes tracked in git</li>
<li><strong>Testing</strong>: Mock data that matches real API structure</li>
</ul>
<h2 id="next-steps">Next Steps</h2>
<ol>
<li><strong><a href="types/">Complete Type Definitions</a></strong> - All 50 entities and enums</li>
<li><strong><a href="client/">Type-Safe Client</a></strong> - Fully typed implementation</li>
</ol></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
