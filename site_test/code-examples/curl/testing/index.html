<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>cURL Testing Commands - Test</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">Test</a>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#curl-testing-commands" class="nav-link">cURL Testing Commands</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#api-health-checks" class="nav-link">API Health Checks</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#api-functionality-tests" class="nav-link">API Functionality Tests</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#error-condition-tests" class="nav-link">Error Condition Tests</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#performance-testing" class="nav-link">Performance Testing</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#data-validation-tests" class="nav-link">Data Validation Tests</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#comprehensive-health-check-script" class="nav-link">Comprehensive Health Check Script</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#debugging-utilities" class="nav-link">Debugging Utilities</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="curl-testing-commands">cURL Testing Commands</h1>
<p>Comprehensive testing and diagnostic commands for the Danish Parliament API. Perfect for health checks, debugging, and API exploration.</p>
<h2 id="api-health-checks">API Health Checks</h2>
<h3 id="1-basic-connectivity-tests">1. Basic Connectivity Tests</h3>
<pre><code class="language-bash"># Simple connectivity test
curl -I &quot;https://oda.ft.dk/api/Sag&quot;

# Test with timeout
curl --max-time 10 -I &quot;https://oda.ft.dk/api/Sag&quot;

# Test with verbose output for debugging
curl -v &quot;https://oda.ft.dk/api/Sag?%24top=1&quot;

# Check response time
curl -w &quot;Total time: %{time_total}s\nHTTP code: %{http_code}\n&quot; -o /dev/null -s &quot;https://oda.ft.dk/api/Sag?%24top=1&quot;
</code></pre>
<h3 id="2-ssltls-verification">2. SSL/TLS Verification</h3>
<pre><code class="language-bash"># Check SSL certificate
curl -v &quot;https://oda.ft.dk/api/Sag?%24top=1&quot; 2&gt;&amp;1 | grep -E &quot;(TLS|SSL|certificate)&quot;

# Verify certificate chain
openssl s_client -connect oda.ft.dk:443 -servername oda.ft.dk &lt; /dev/null

# Check supported TLS versions
curl --tlsv1.2 -I &quot;https://oda.ft.dk/api/Sag&quot; 2&gt;&amp;1 | head -1
</code></pre>
<h3 id="3-response-analysis">3. Response Analysis</h3>
<pre><code class="language-bash"># Get full response headers
curl -D - -o /dev/null -s &quot;https://oda.ft.dk/api/Sag?%24top=1&quot;

# Check content encoding
curl -H &quot;Accept-Encoding: gzip&quot; -v &quot;https://oda.ft.dk/api/Sag?%24top=1&quot; 2&gt;&amp;1 | grep -i &quot;content-encoding&quot;

# Measure response size
curl -w &quot;Response size: %{size_download} bytes\n&quot; -o /dev/null -s &quot;https://oda.ft.dk/api/Sag?%24top=100&quot;
</code></pre>
<h2 id="api-functionality-tests">API Functionality Tests</h2>
<h3 id="1-entity-availability-tests">1. Entity Availability Tests</h3>
<pre><code class="language-bash">#!/bin/bash

# Test all major entities
ENTITIES=(&quot;Sag&quot; &quot;Akt√∏r&quot; &quot;Afstemning&quot; &quot;Stemme&quot; &quot;Dokument&quot; &quot;M√∏de&quot; &quot;Fil&quot;)

echo &quot;Testing entity availability:&quot;
for entity in &quot;${ENTITIES[@]}&quot;; do
    HTTP_CODE=$(curl -s -w &quot;%{http_code}&quot; -o /dev/null &quot;https://oda.ft.dk/api/${entity}?%24top=1&quot;)

    if [ &quot;$HTTP_CODE&quot; = &quot;200&quot; ]; then
        echo &quot; $entity: OK&quot;
    else
        echo &quot;L $entity: HTTP $HTTP_CODE&quot;
    fi
done
</code></pre>
<h3 id="2-odata-feature-tests">2. OData Feature Tests</h3>
<pre><code class="language-bash"># Test $top parameter
echo &quot;Testing \$top parameter:&quot;
for size in 1 5 10 50 100; do
    COUNT=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24top=${size}&quot; | jq '.value | length')
    echo &quot;  Requested: $size, Received: $COUNT&quot;
done

# Test $skip parameter
echo &quot;Testing \$skip parameter:&quot;
FIRST_ID=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24top=1&amp;%24skip=0&quot; | jq -r '.value[0].id')
SECOND_ID=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24top=1&amp;%24skip=1&quot; | jq -r '.value[0].id')
echo &quot;  First record ID: $FIRST_ID&quot;
echo &quot;  Second record ID: $SECOND_ID&quot;

# Test $inlinecount
echo &quot;Testing \$inlinecount:&quot;
RESPONSE=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24inlinecount=allpages&amp;%24top=1&quot;)
COUNT=$(echo &quot;$RESPONSE&quot; | jq -r '.&quot;odata.count&quot;')
echo &quot;  Total Sag records: $COUNT&quot;

# Test $filter
echo &quot;Testing \$filter:&quot;
FILTER_RESULT=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24filter=id%20eq%201&amp;%24top=1&quot; | jq '.value | length')
echo &quot;  Filter result count: $FILTER_RESULT&quot;

# Test $expand
echo &quot;Testing \$expand:&quot;
EXPAND_TEST=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24expand=Sagskategori&amp;%24top=1&quot; | jq -r '.value[0] | has(&quot;Sagskategori&quot;)')
echo &quot;  Expansion successful: $EXPAND_TEST&quot;

# Test $orderby
echo &quot;Testing \$orderby:&quot;
FIRST_DATE=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24orderby=opdateringsdato%20desc&amp;%24top=1&quot; | jq -r '.value[0].opdateringsdato')
LAST_DATE=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24orderby=opdateringsdato%20asc&amp;%24top=1&quot; | jq -r '.value[0].opdateringsdato')
echo &quot;  Latest update: $FIRST_DATE&quot;
echo &quot;  Earliest update: $LAST_DATE&quot;

# Test $select
echo &quot;Testing \$select:&quot;
SELECTED_FIELDS=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24select=id,titel&amp;%24top=1&quot; | jq -r '.value[0] | keys | @csv')
echo &quot;  Selected fields: $SELECTED_FIELDS&quot;
</code></pre>
<h3 id="3-data-quality-tests">3. Data Quality Tests</h3>
<pre><code class="language-bash"># Check for null/empty data patterns
echo &quot;Data quality tests:&quot;

# Check for empty titles
EMPTY_TITLES=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24top=100&quot; | jq '[.value[] | select(.titel == &quot;&quot; or .titel == null)] | length')
echo &quot;  Cases with empty titles: $EMPTY_TITLES&quot;

# Check for recent updates (data freshness)
RECENT_UPDATES=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24filter=opdateringsdato%20gt%20datetime'2025-01-01T00:00:00'&amp;%24inlinecount=allpages&amp;%24top=1&quot; | jq -r '.&quot;odata.count&quot;')
echo &quot;  Cases updated in 2025: $RECENT_UPDATES&quot;

# Check for consistent ID patterns
FIRST_IDS=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24top=5&quot; | jq -r '.value[].id' | head -5)
echo &quot;  First 5 case IDs: $(echo $FIRST_IDS | tr '\n' ' ')&quot;

# Test Danish character encoding
DANISH_TEST=$(curl -s &quot;https://oda.ft.dk/api/Akt√∏r?%24filter=substringof('√∏',navn)&amp;%24top=1&quot; | jq '.value | length')
echo &quot;  Actors with '√∏' in name: $DANISH_TEST&quot;
</code></pre>
<h2 id="error-condition-tests">Error Condition Tests</h2>
<h3 id="1-expected-error-scenarios">1. Expected Error Scenarios</h3>
<pre><code class="language-bash">echo &quot;Testing error conditions:&quot;

# Test invalid entity (should return 404)
INVALID_ENTITY=$(curl -s -w &quot;%{http_code}&quot; -o /dev/null &quot;https://oda.ft.dk/api/InvalidEntity&quot;)
echo &quot;  Invalid entity: HTTP $INVALID_ENTITY (expect 404)&quot;

# Test invalid ID (should return 404 or empty result)
INVALID_ID=$(curl -s &quot;https://oda.ft.dk/api/Sag(999999999)&quot; | jq '.value | length // &quot;null&quot;')
echo &quot;  Invalid ID result: $INVALID_ID records&quot;

# Test invalid $expand (should return 400)
INVALID_EXPAND=$(curl -s -w &quot;%{http_code}&quot; -o /dev/null &quot;https://oda.ft.dk/api/Sag?%24expand=NonExistentRelation&quot;)
echo &quot;  Invalid expansion: HTTP $INVALID_EXPAND (expect 400)&quot;

# Test malformed filter (behavior varies)
MALFORMED_FILTER=$(curl -s -w &quot;%{http_code}&quot; -o /dev/null &quot;https://oda.ft.dk/api/Sag?%24filter=invalid syntax here&quot;)
echo &quot;  Malformed filter: HTTP $MALFORMED_FILTER&quot;

# Test very large $top (should be limited to 100)
LARGE_TOP=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24top=10000&quot; | jq '.value | length')
echo &quot;  Large \$top result: $LARGE_TOP records (max 100)&quot;
</code></pre>
<h3 id="2-edge-case-testing">2. Edge Case Testing</h3>
<pre><code class="language-bash"># Test empty results
echo &quot;Testing edge cases:&quot;

# Query that should return no results
NO_RESULTS=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24filter=titel%20eq%20'ThisShouldNotExist12345'&quot; | jq '.value | length')
echo &quot;  No results query: $NO_RESULTS records&quot;

# Test special characters in filter
SPECIAL_CHARS=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24filter=substringof('&amp;',titel)&quot; | jq '.value | length')
echo &quot;  Special character filter: $SPECIAL_CHARS records&quot;

# Test date boundaries
FUTURE_DATE=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24filter=opdateringsdato%20gt%20datetime'2030-01-01T00:00:00'&quot; | jq '.value | length')
echo &quot;  Future date filter: $FUTURE_DATE records&quot;

# Test very old date
OLD_DATE=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24filter=opdateringsdato%20lt%20datetime'1990-01-01T00:00:00'&quot; | jq '.value | length')
echo &quot;  Old date filter: $OLD_DATE records&quot;
</code></pre>
<h2 id="performance-testing">Performance Testing</h2>
<h3 id="1-response-time-analysis">1. Response Time Analysis</h3>
<pre><code class="language-bash">#!/bin/bash

# Test response times for different query sizes
echo &quot;Performance testing:&quot;

test_response_time() {
    local query=$1
    local description=$2

    local total_time=$(curl -w &quot;%{time_total}&quot; -o /dev/null -s &quot;$query&quot;)
    echo &quot;  $description: ${total_time}s&quot;
}

test_response_time &quot;https://oda.ft.dk/api/Sag?%24top=1&quot; &quot;Single record&quot;
test_response_time &quot;https://oda.ft.dk/api/Sag?%24top=10&quot; &quot;10 records&quot;
test_response_time &quot;https://oda.ft.dk/api/Sag?%24top=100&quot; &quot;100 records&quot;
test_response_time &quot;https://oda.ft.dk/api/Sag?%24expand=Sagskategori&amp;%24top=10&quot; &quot;With expansion&quot;
test_response_time &quot;https://oda.ft.dk/api/Sag?%24filter=substringof('klima',titel)&amp;%24top=50&quot; &quot;With filter&quot;
</code></pre>
<h3 id="2-concurrent-request-testing">2. Concurrent Request Testing</h3>
<pre><code class="language-bash">#!/bin/bash

# Test concurrent requests (be respectful - max 3-5)
echo &quot;Testing concurrent requests:&quot;

concurrent_test() {
    local concurrent_count=$1
    echo &quot;  Testing $concurrent_count concurrent requests...&quot;

    start_time=$(date +%s.%N)

    for ((i=1; i&lt;=concurrent_count; i++)); do
        curl -s &quot;https://oda.ft.dk/api/Sag?%24top=10&amp;%24skip=$((i*10))&quot; &gt; &quot;/tmp/concurrent_$i.json&quot; &amp;
    done

    wait  # Wait for all background processes

    end_time=$(date +%s.%N)
    duration=$(echo &quot;$end_time - $start_time&quot; | bc)

    echo &quot;    Duration: ${duration}s&quot;

    # Clean up
    rm -f /tmp/concurrent_*.json
}

concurrent_test 3
concurrent_test 5
</code></pre>
<h3 id="3-large-dataset-testing">3. Large Dataset Testing</h3>
<pre><code class="language-bash"># Test large dataset retrieval patterns
echo &quot;Large dataset testing:&quot;

# Test pagination performance
echo &quot;  Testing pagination performance:&quot;
for skip in 0 100 1000 5000; do
    time_taken=$(curl -w &quot;%{time_total}&quot; -o /dev/null -s &quot;https://oda.ft.dk/api/Sag?%24top=100&amp;%24skip=${skip}&quot;)
    echo &quot;    Skip $skip: ${time_taken}s&quot;
done

# Test complex queries on large datasets
echo &quot;  Testing complex query performance:&quot;
complex_time=$(curl -w &quot;%{time_total}&quot; -o /dev/null -s &quot;https://oda.ft.dk/api/Sag?%24expand=Sagskategori&amp;%24filter=year(opdateringsdato)%20eq%202025&amp;%24top=100&quot;)
echo &quot;    Complex query: ${complex_time}s&quot;
</code></pre>
<h2 id="data-validation-tests">Data Validation Tests</h2>
<h3 id="1-schema-consistency">1. Schema Consistency</h3>
<pre><code class="language-bash"># Validate data schema consistency
echo &quot;Schema validation tests:&quot;

# Check required fields presence
REQUIRED_FIELDS_TEST=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24top=5&quot; | jq -r '
    .value[] | 
    [.id, .titel, .opdateringsdato] | 
    map(type) | 
    @csv
' | head -1)
echo &quot;  Required field types (id,titel,opdateringsdato): $REQUIRED_FIELDS_TEST&quot;

# Check date format consistency
DATE_FORMAT_TEST=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24top=10&quot; | jq -r '
    [.value[].opdateringsdato | test(&quot;^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}&quot;)] | 
    all
')
echo &quot;  Date format consistency: $DATE_FORMAT_TEST&quot;

# Check ID uniqueness in sample
ID_UNIQUENESS=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24top=100&quot; | jq '
    .value | 
    length as $total | 
    map(.id) | 
    unique | 
    length as $unique | 
    $total == $unique
')
echo &quot;  ID uniqueness in sample: $ID_UNIQUENESS&quot;
</code></pre>
<h3 id="2-relationship-integrity">2. Relationship Integrity</h3>
<pre><code class="language-bash"># Test relationship integrity
echo &quot;Relationship integrity tests:&quot;

# Test foreign key consistency
FK_TEST=$(curl -s &quot;https://oda.ft.dk/api/SagAkt√∏r?%24expand=Sag,Akt√∏r&amp;%24top=5&quot; | jq -r '
    .value[] | 
    select(.Sag and .Akt√∏r) | 
    &quot; SagAkt√∏r \(.id): Links Sag \(.sagid) to Akt√∏r \(.akt√∏rid)&quot;
')
echo &quot;$FK_TEST&quot; | head -3

# Test expansion consistency  
EXPAND_TEST=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24expand=Sagskategori&amp;%24top=5&quot; | jq '
    [.value[] | select(.Sagskategori)] | length
')
TOTAL_WITH_CATEGORY=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24expand=Sagskategori&amp;%24top=5&quot; | jq '.value | length')
echo &quot;  Expansion success rate: $EXPAND_TEST/$TOTAL_WITH_CATEGORY have categories&quot;
</code></pre>
<h2 id="comprehensive-health-check-script">Comprehensive Health Check Script</h2>
<pre><code class="language-bash">#!/bin/bash

# Complete API health check
echo &quot;=== Danish Parliament API Health Check ===&quot;
echo &quot;Timestamp: $(date -u)&quot;
echo

# Basic connectivity
echo &quot;1. Basic Connectivity:&quot;
HTTP_STATUS=$(curl -s -w &quot;%{http_code}&quot; -o /dev/null --max-time 10 &quot;https://oda.ft.dk/api/Sag?%24top=1&quot;)
if [ &quot;$HTTP_STATUS&quot; = &quot;200&quot; ]; then
    echo &quot;   API is accessible (HTTP $HTTP_STATUS)&quot;
else
    echo &quot;  L API connection failed (HTTP $HTTP_STATUS)&quot;
    exit 1
fi

# Response time
echo &quot;2. Performance:&quot;
RESPONSE_TIME=$(curl -w &quot;%{time_total}&quot; -o /dev/null -s --max-time 30 &quot;https://oda.ft.dk/api/Sag?%24top=1&quot;)
echo &quot;  Response time: ${RESPONSE_TIME}s&quot;

# Data freshness
echo &quot;3. Data Freshness:&quot;
LATEST_UPDATE=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24orderby=opdateringsdato%20desc&amp;%24top=1&quot; | jq -r '.value[0].opdateringsdato')
echo &quot;  Latest case update: $LATEST_UPDATE&quot;

# Record counts
echo &quot;4. Dataset Sizes:&quot;
CASE_COUNT=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24inlinecount=allpages&amp;%24top=1&quot; | jq -r '.&quot;odata.count&quot;')
ACTOR_COUNT=$(curl -s &quot;https://oda.ft.dk/api/Akt√∏r?%24inlinecount=allpages&amp;%24top=1&quot; | jq -r '.&quot;odata.count&quot;')
echo &quot;  Total cases: $CASE_COUNT&quot;
echo &quot;  Total actors: $ACTOR_COUNT&quot;

# OData functionality
echo &quot;5. OData Features:&quot;
FILTER_TEST=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24filter=id%20eq%201&quot; | jq '.value | length')
EXPAND_TEST=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24expand=Sagskategori&amp;%24top=1&quot; | jq -r '.value[0] | has(&quot;Sagskategori&quot;)')
echo &quot;  Filtering: $([ &quot;$FILTER_TEST&quot; -ge 0 ] &amp;&amp; echo &quot; Working&quot; || echo &quot;L Failed&quot;)&quot;
echo &quot;  Expansion: $([ &quot;$EXPAND_TEST&quot; = &quot;true&quot; ] &amp;&amp; echo &quot; Working&quot; || echo &quot;L Failed&quot;)&quot;

# Recent activity
echo &quot;6. Recent Activity:&quot;
TODAY=$(date +%Y-%m-%d)
RECENT_COUNT=$(curl -s &quot;https://oda.ft.dk/api/Sag?%24filter=startswith(opdateringsdato,'${TODAY}')&amp;%24inlinecount=allpages&amp;%24top=1&quot; | jq -r '.&quot;odata.count&quot;')
echo &quot;  Cases updated today: $RECENT_COUNT&quot;

echo
echo &quot;Health check complete!&quot;

# Summary
if [ &quot;$HTTP_STATUS&quot; = &quot;200&quot; ] &amp;&amp; [ $(echo &quot;$RESPONSE_TIME &lt; 5.0&quot; | bc) -eq 1 ]; then
    echo &quot; API Status: HEALTHY&quot;
    exit 0
else
    echo &quot;¬†  API Status: DEGRADED&quot;
    exit 1
fi
</code></pre>
<h2 id="debugging-utilities">Debugging Utilities</h2>
<h3 id="1-url-encoding-helper">1. URL Encoding Helper</h3>
<pre><code class="language-bash"># Helper function to properly encode OData URLs
encode_odata_url() {
    local base_url=&quot;https://oda.ft.dk/api/&quot;
    local entity=$1
    local params=$2

    # Replace $ with %24
    encoded_params=$(echo &quot;$params&quot; | sed 's/\$/%24/g')

    echo &quot;${base_url}${entity}?${encoded_params}&quot;
}

# Usage examples
echo &quot;Encoded URLs:&quot;
echo $(encode_odata_url &quot;Sag&quot; &quot;top=5&amp;filter=id eq 1&quot;)
echo $(encode_odata_url &quot;Akt√∏r&quot; &quot;expand=Akt√∏rtype&amp;orderby=navn&quot;)
</code></pre>
<h3 id="2-response-inspector">2. Response Inspector</h3>
<pre><code class="language-bash"># Detailed response analysis
inspect_response() {
    local url=$1
    echo &quot;Inspecting: $url&quot;

    # Get full response with headers
    RESPONSE=$(curl -i -s &quot;$url&quot;)

    # Extract headers and body
    HEADERS=$(echo &quot;$RESPONSE&quot; | sed '/^\r$/q')
    BODY=$(echo &quot;$RESPONSE&quot; | sed '1,/^\r$/d')

    echo &quot;Headers:&quot;
    echo &quot;$HEADERS&quot; | grep -E &quot;(HTTP|Content-|Cache-|Server)&quot;

    echo &quot;Body structure:&quot;
    echo &quot;$BODY&quot; | jq -r 'keys'

    if echo &quot;$BODY&quot; | jq -e '.value' &gt; /dev/null; then
        RECORD_COUNT=$(echo &quot;$BODY&quot; | jq '.value | length')
        echo &quot;Records returned: $RECORD_COUNT&quot;

        if [ &quot;$RECORD_COUNT&quot; -gt 0 ]; then
            echo &quot;First record keys:&quot;
            echo &quot;$BODY&quot; | jq -r '.value[0] | keys | @csv'
        fi
    fi
}

# Usage
inspect_response &quot;https://oda.ft.dk/api/Sag?%24top=3&quot;
</code></pre>
<p>These testing commands provide comprehensive coverage for validating API functionality, performance, and data quality. Use them for troubleshooting, monitoring, and ensuring reliable integration with the Danish Parliament API.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js"></script>
        <script src="../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
