<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Junction Tables - Test</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">Test</a>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#junction-tables" class="nav-link">Junction Tables</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#overview" class="nav-link">Overview</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#junction-table-architecture" class="nav-link">Junction Table Architecture</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#junction-table-pattern-visualizations" class="nav-link">Junction Table Pattern Visualizations</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#key-junction-tables" class="nav-link">Key Junction Tables</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#performance-considerations" class="nav-link">Performance Considerations</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#conclusion" class="nav-link">Conclusion</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="junction-tables">Junction Tables</h1>
<p>Junction tables in the Danish Parliament API model the complex many-to-many relationships that exist throughout the parliamentary system. These tables don't just link entitiesthey provide rich semantic context through role-based relationships that capture the precise nature of each connection.</p>
<h2 id="overview">Overview</h2>
<p>The Danish Parliament API uses sophisticated junction table patterns that go beyond simple many-to-many relationships. Most junction tables include role identifiers that link to separate role definition tables, creating a three-dimensional relationship model that captures:</p>
<ol>
<li><strong>Which entities</strong> are related</li>
<li><strong>How they are related</strong> (through role semantics)</li>
<li><strong>When the relationship</strong> was established or updated</li>
</ol>
<h2 id="junction-table-architecture">Junction Table Architecture</h2>
<h3 id="pattern-1-simple-junction-tables">Pattern 1: Simple Junction Tables</h3>
<p>Direct many-to-many relationships without additional semantic context.</p>
<p><strong>Structure:</strong> <code>Entity1Id</code> ï¿½ï¿½ <code>Junction Table</code> ï¿½ï¿½ <code>Entity2Id</code></p>
<p>Examples:
- <strong>EmneordSag</strong> - Keywords to Cases
- <strong>EmneordDokument</strong> - Keywords to Documents<br />
- <strong>DagsordenspunktSag</strong> - Agenda Items to Cases
- <strong>DagsordenspunktDokument</strong> - Agenda Items to Documents</p>
<h3 id="pattern-2-role-based-junction-tables">Pattern 2: Role-Based Junction Tables</h3>
<p>Many-to-many relationships with semantic roles defining the nature of the relationship.</p>
<p><strong>Structure:</strong> <code>Entity1Id</code> ï¿½ï¿½ <code>Junction Table</code> ï¿½ï¿½ <code>Entity2Id</code>
                                    ï¿½
                               <code>Role Table</code></p>
<p>Examples:
- <strong>SagAktï¿½r</strong> ï¿½ <strong>SagAktï¿½rRolle</strong> (23 role types)
- <strong>DokumentAktï¿½r</strong> ï¿½ <strong>DokumentAktï¿½rRolle</strong> (25 role types)
- <strong>SagstrinAktï¿½r</strong> ï¿½ <strong>SagstrinAktï¿½rRolle</strong>
- <strong>Aktï¿½rAktï¿½r</strong> ï¿½ <strong>Aktï¿½rAktï¿½rRolle</strong></p>
<h3 id="pattern-3-multi-dimensional-junction-tables">Pattern 3: Multi-Dimensional Junction Tables</h3>
<p>Complex relationships with multiple classification dimensions.</p>
<p><strong>Structure:</strong> Multiple classification tables provide context for junction relationships.</p>
<p>Examples:
- <strong>SagDokument</strong> ï¿½ <strong>SagDokumentRolle</strong>
- <strong>SagstrinDokument</strong> (with case step context)</p>
<h2 id="junction-table-pattern-visualizations">Junction Table Pattern Visualizations</h2>
<h3 id="pattern-1-visualization-simple-junction-tables">Pattern 1 Visualization: Simple Junction Tables</h3>
<pre><code class="language-mermaid">graph TD
    A[Entity 1] &lt;--&gt; B[Junction Table]
    B &lt;--&gt; C[Entity 2]

    subgraph &quot;Simple Junction Examples&quot;
        D[Emneord&lt;br/&gt;Keywords] &lt;--&gt; E[EmneordSag&lt;br/&gt;Junction]
        E &lt;--&gt; F[Sag&lt;br/&gt;Cases]

        G[Emneord&lt;br/&gt;Keywords] &lt;--&gt; H[EmneordDokument&lt;br/&gt;Junction]  
        H &lt;--&gt; I[Dokument&lt;br/&gt;Documents]

        J[Dagsordenspunkt&lt;br/&gt;Agenda Items] &lt;--&gt; K[DagsordenspunktSag&lt;br/&gt;Junction]
        K &lt;--&gt; L[Sag&lt;br/&gt;Cases]
    end

    style E fill:#e3f2fd
    style H fill:#e3f2fd
    style K fill:#e3f2fd
</code></pre>
<h3 id="pattern-2-visualization-role-based-junction-tables">Pattern 2 Visualization: Role-Based Junction Tables</h3>
<pre><code class="language-mermaid">graph TD
    subgraph &quot;Role-Based Junction Pattern&quot;
        A[Entity 1] &lt;--&gt; B[Junction Table&lt;br/&gt;with Role ID]
        B &lt;--&gt; C[Entity 2]
        B -.-&gt; D[Role Definition&lt;br/&gt;Table]

        D --&gt; E[Role 1&lt;br/&gt;Semantic Meaning]
        D --&gt; F[Role 2&lt;br/&gt;Semantic Meaning]
        D --&gt; G[Role N&lt;br/&gt;Semantic Meaning]
    end

    subgraph &quot;SagAktÃ¸r Example - 23 Roles&quot;
        H[Sag&lt;br/&gt;Cases] &lt;--&gt; I[SagAktÃ¸r&lt;br/&gt;Junction + rolleid]
        I &lt;--&gt; J[AktÃ¸r&lt;br/&gt;Actors]
        I -.-&gt; K[SagAktÃ¸rRolle&lt;br/&gt;23 Role Types]

        K --&gt; L[Minister&lt;br/&gt;ID: 14]
        K --&gt; M[Forslagsstiller&lt;br/&gt;Proposer ID: 19]
        K --&gt; N[SpÃ¸rger&lt;br/&gt;Questioner ID: 10]
        K --&gt; O[... 20 more roles]
    end

    subgraph &quot;DokumentAktÃ¸r Example - 25 Roles&quot;
        P[Dokument&lt;br/&gt;Documents] &lt;--&gt; Q[DokumentAktÃ¸r&lt;br/&gt;Junction + rolleid]
        Q &lt;--&gt; R[AktÃ¸r&lt;br/&gt;Actors]
        Q -.-&gt; S[DokumentAktÃ¸rRolle&lt;br/&gt;25 Role Types]

        S --&gt; T[Afsender&lt;br/&gt;Sender ID: 1]
        S --&gt; U[Til&lt;br/&gt;To ID: 8]
        S --&gt; V[Minister&lt;br/&gt;Minister ID: 5]
        S --&gt; W[Besvaret af&lt;br/&gt;Answered by ID: 4]
        S --&gt; X[... 21 more roles]
    end

    style I fill:#fff3e0
    style Q fill:#fff3e0
    style K fill:#e1f5fe
    style S fill:#e1f5fe
</code></pre>
<h3 id="complete-junction-table-network">Complete Junction Table Network</h3>
<pre><code class="language-mermaid">flowchart TD
    %% Core Entities
    subgraph &quot;Core Entities&quot;
        Sag[ð Sag&lt;br/&gt;Cases]
        AktÃ¸r[ð¤ AktÃ¸r&lt;br/&gt;Actors]
        Dokument[ð Dokument&lt;br/&gt;Documents]
        MÃ¸de[ðï¸ MÃ¸de&lt;br/&gt;Meetings]
        Sagstrin[âï¸ Sagstrin&lt;br/&gt;Case Steps]
        Emneord[ð·ï¸ Emneord&lt;br/&gt;Keywords]
        Dagsordenspunkt[ð Dagsordenspunkt&lt;br/&gt;Agenda Items]
    end

    %% Junction Tables
    subgraph &quot;Junction Tables with Roles&quot;
        SagAktÃ¸r[ð SagAktÃ¸r&lt;br/&gt;Case-Actor&lt;br/&gt;23 Roles]
        DokumentAktÃ¸r[ð DokumentAktÃ¸r&lt;br/&gt;Doc-Actor&lt;br/&gt;25 Roles]
        SagstrinAktÃ¸r[ð SagstrinAktÃ¸r&lt;br/&gt;Step-Actor&lt;br/&gt;Process Roles]
        MÃ¸deAktÃ¸r[ð MÃ¸deAktÃ¸r&lt;br/&gt;Meeting-Actor&lt;br/&gt;Participation Roles]
        AktÃ¸rAktÃ¸r[ð AktÃ¸rAktÃ¸r&lt;br/&gt;Actor-Actor&lt;br/&gt;Relationship Roles]
    end

    subgraph &quot;Junction Tables without Roles&quot;
        SagDokument[ð SagDokument&lt;br/&gt;Case-Document]
        SagstrinDokument[ð SagstrinDokument&lt;br/&gt;Step-Document]
        EmneordSag[ð EmneordSag&lt;br/&gt;Keyword-Case]
        EmneordDokument[ð EmneordDokument&lt;br/&gt;Keyword-Document]
        DagsordenspunktSag[ð DagsordenspunktSag&lt;br/&gt;Agenda-Case]
        DagsordenspunktDokument[ð DagsordenspunktDokument&lt;br/&gt;Agenda-Document]
    end

    %% Role Tables
    subgraph &quot;Role Definition Tables&quot;
        SagAktÃ¸rRolle[ð SagAktÃ¸rRolle&lt;br/&gt;Case-Actor Roles]
        DokumentAktÃ¸rRolle[ð DokumentAktÃ¸rRolle&lt;br/&gt;Doc-Actor Roles]
        SagstrinAktÃ¸rRolle[ð SagstrinAktÃ¸rRolle&lt;br/&gt;Step-Actor Roles]
        SagDokumentRolle[ð SagDokumentRolle&lt;br/&gt;Case-Doc Roles]
        AktÃ¸rAktÃ¸rRolle[ð AktÃ¸rAktÃ¸rRolle&lt;br/&gt;Actor-Actor Roles]
    end

    %% Core Entity Connections
    Sag &lt;--&gt; SagAktÃ¸r &lt;--&gt; AktÃ¸r
    Dokument &lt;--&gt; DokumentAktÃ¸r &lt;--&gt; AktÃ¸r
    Sagstrin &lt;--&gt; SagstrinAktÃ¸r &lt;--&gt; AktÃ¸r
    MÃ¸de &lt;--&gt; MÃ¸deAktÃ¸r &lt;--&gt; AktÃ¸r
    AktÃ¸r &lt;--&gt; AktÃ¸rAktÃ¸r &lt;--&gt; AktÃ¸r

    Sag &lt;--&gt; SagDokument &lt;--&gt; Dokument
    Sagstrin &lt;--&gt; SagstrinDokument &lt;--&gt; Dokument

    Emneord &lt;--&gt; EmneordSag &lt;--&gt; Sag
    Emneord &lt;--&gt; EmneordDokument &lt;--&gt; Dokument

    Dagsordenspunkt &lt;--&gt; DagsordenspunktSag &lt;--&gt; Sag
    Dagsordenspunkt &lt;--&gt; DagsordenspunktDokument &lt;--&gt; Dokument

    %% Role Connections
    SagAktÃ¸r -.-&gt; SagAktÃ¸rRolle
    DokumentAktÃ¸r -.-&gt; DokumentAktÃ¸rRolle
    SagstrinAktÃ¸r -.-&gt; SagstrinAktÃ¸rRolle
    SagDokument -.-&gt; SagDokumentRolle
    AktÃ¸rAktÃ¸r -.-&gt; AktÃ¸rAktÃ¸rRolle

    %% Styling
    style SagAktÃ¸r fill:#fff3e0
    style DokumentAktÃ¸r fill:#fff3e0
    style SagstrinAktÃ¸r fill:#fff3e0
    style MÃ¸deAktÃ¸r fill:#fff3e0
    style AktÃ¸rAktÃ¸r fill:#fff3e0

    style SagDokument fill:#e3f2fd
    style SagstrinDokument fill:#e3f2fd
    style EmneordSag fill:#e3f2fd
    style EmneordDokument fill:#e3f2fd
    style DagsordenspunktSag fill:#e3f2fd
    style DagsordenspunktDokument fill:#e3f2fd

    style SagAktÃ¸rRolle fill:#e1f5fe
    style DokumentAktÃ¸rRolle fill:#e1f5fe
    style SagstrinAktÃ¸rRolle fill:#e1f5fe
    style SagDokumentRolle fill:#e1f5fe
    style AktÃ¸rAktÃ¸rRolle fill:#e1f5fe
</code></pre>
<h2 id="key-junction-tables">Key Junction Tables</h2>
<h3 id="1-sagakti12r-case-actor-relationships">1. SagAktï¿½r (Case-Actor Relationships)</h3>
<p><strong>Purpose:</strong> Links cases to participating actors with semantic roles<br />
<strong>Scale:</strong> Millions of relationships across parliamentary history<br />
<strong>Role System:</strong> 23 distinct role types via SagAktï¿½rRolle</p>
<p><strong>Key Fields:</strong>
- <code>id</code> - Unique relationship identifier
- <code>sagid</code> - References Sag entity
- <code>aktï¿½rid</code> - References Aktï¿½r entity
- <code>rolleid</code> - References SagAktï¿½rRolle entity
- <code>opdateringsdato</code> - Last update timestamp</p>
<p><strong>Common Roles:</strong>
- Minister (ID 14) - Government minister responsible
- Forslagsstiller (ID 19) - Proposer of legislation
- Spï¿½rger (ID 10) - Questioner in parliamentary inquiries
- Henvist til (ID 11) - Committee or body referred to</p>
<p><strong>Query Example:</strong></p>
<pre><code class="language-bash"># Find all actors involved in a specific case
curl &quot;https://oda.ft.dk/api/SagAktï¿½r?%24filter=sagid%20eq%20102903&amp;%24expand=Aktï¿½r,SagAktï¿½rRolle&quot;
</code></pre>
<h3 id="2-dokumentakti12r-document-actor-relationships">2. DokumentAktï¿½r (Document-Actor Relationships)</h3>
<p><strong>Purpose:</strong> Links documents to participating actors with communication roles<br />
<strong>Scale:</strong> Extensive coverage of all parliamentary documents<br />
<strong>Role System:</strong> 25 distinct role types via DokumentAktï¿½rRolle</p>
<p><strong>Key Fields:</strong>
- <code>id</code> - Unique relationship identifier
- <code>dokumentid</code> - References Dokument entity
- <code>aktï¿½rid</code> - References Aktï¿½r entity
- <code>rolleid</code> - References DokumentAktï¿½rRolle entity
- <code>opdateringsdato</code> - Last update timestamp</p>
<p><strong>Common Roles:</strong>
- Afsender (ID 1) - Document sender
- Til (ID 8) - Primary recipient
- Minister (ID 5) - Government minister involved
- Besvaret af (ID 4) - Who provided the answer
- Kopi til (ID 2) - Copy recipient</p>
<p><strong>Query Example:</strong></p>
<pre><code class="language-bash"># Find all documents by a specific actor
curl &quot;https://oda.ft.dk/api/DokumentAktï¿½r?%24filter=aktï¿½rid%20eq%2012345&amp;%24expand=Dokument,DokumentAktï¿½rRolle&quot;
</code></pre>
<h3 id="3-sagdokument-case-document-relationships">3. SagDokument (Case-Document Relationships)</h3>
<p><strong>Purpose:</strong> Links cases to their associated documents<br />
<strong>Scale:</strong> Multiple documents per case across legislative process<br />
<strong>Role System:</strong> SagDokumentRolle provides document function context</p>
<p><strong>Key Fields:</strong>
- <code>id</code> - Unique relationship identifier
- <code>sagid</code> - References Sag entity
- <code>dokumentid</code> - References Dokument entity
- <code>rolleid</code> - References SagDokumentRolle entity
- <code>opdateringsdato</code> - Last update timestamp</p>
<p><strong>Query Example:</strong></p>
<pre><code class="language-bash"># Find all documents for a specific case
curl &quot;https://oda.ft.dk/api/SagDokument?%24filter=sagid%20eq%20102903&amp;%24expand=Dokument,SagDokumentRolle&quot;
</code></pre>
<h2 id="performance-considerations">Performance Considerations</h2>
<h3 id="indexing-strategy">Indexing Strategy</h3>
<ul>
<li>Junction tables are well-indexed on foreign key relationships</li>
<li>Role-based queries are optimized for common role types</li>
<li>Compound indexes support multi-field filtering</li>
</ul>
<h3 id="query-optimization-tips">Query Optimization Tips</h3>
<ol>
<li><strong>Use specific filters</strong> - Junction tables can be very large</li>
<li><strong>Limit expansions</strong> - Avoid expanding large related entities unnecessarily</li>
<li><strong>Use pagination</strong> - All junction queries subject to 100-record limit</li>
<li><strong>Filter by role</strong> - Role-based filtering is well-optimized</li>
</ol>
<h2 id="conclusion">Conclusion</h2>
<p>The junction table system in the Danish Parliament API represents one of the most sophisticated relationship modeling systems in any government API. The combination of simple junction tables for basic relationships and role-based junction tables for complex semantic relationships enables:</p>
<ul>
<li><strong>Precise relationship semantics</strong> through role-based modeling</li>
<li><strong>Complete process transparency</strong> via comprehensive relationship tracking  </li>
<li><strong>Flexible querying</strong> supporting both simple and complex analytical needs</li>
<li><strong>Historical preservation</strong> maintaining relationship integrity across decades</li>
<li><strong>Real-time currency</strong> with immediate updates as parliamentary work progresses</li>
</ul>
<p>This junction table architecture makes the Danish Parliament API invaluable for researchers studying democratic processes, network analysis of political relationships, and detailed tracking of legislative workflows.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js"></script>
        <script src="../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
